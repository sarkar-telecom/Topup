<footer class="site-footer">
  <div class="footer-container">

    <!-- Left Buttons -->
    <div class="footer-nav-grid">
      <button onclick="location.href='index.html'">ğŸ  Home</button>
      <button onclick="location.href='dashboard.html'">ğŸ“Š Dashboard</button>
      <button onclick="location.href='profile.html'">ğŸ‘¤ Profile</button>
      <button onclick="location.href='admin.html'">ğŸ›  Admin</button>
      <button onclick="location.href='order.html'">â• Order</button>
      <button onclick="location.href='order-history.html'">ğŸ“œ History</button>
    </div>

    <!-- User Info Card -->
    <div class="user-card" id="userBox">
      ğŸ”„ Checking login...
    </div>

    <!-- Right Buttons -->
    <div class="footer-nav-grid">
      <button onclick="location.href='forgot.html'">â“ Forgot</button>
      <button onclick="location.href='reset.html'">â™» Reset</button>
      <button onclick="location.href='register.html'">ğŸ“ Register</button>
      <button onclick="location.href='https://wa.me/8801715118684'">ğŸ’¬ Support</button>
      <button onclick="location.href='login.html'">ğŸ”‘ Login</button>
      <button onclick="location.href='logout.html'" class="logout-btn">ğŸšª Logout</button>
    </div>
  </div>

  <p class="footer-copy">Â© SARKAR TELECOM 2025-2026</p>
</footer>

<style>
  .site-footer {
    background:#171a21;
    padding:20px 10px;
    margin-top:30px;
    color:#e7eaf0;
    text-align:center;
  }
  .footer-container {
    display:flex;
    justify-content:space-between;
    align-items:center;
    flex-wrap:wrap;
    gap:15px;
  }
  .footer-nav-grid {
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:10px;
    flex:1;
  }
  .footer-nav-grid button {
    background:#0f1115;
    color:#e7eaf0;
    border:1px solid #2b3347;
    padding:12px;
    border-radius:8px;
    font-size:15px;
    font-weight:bold;
    cursor:pointer;
    transition:0.2s;
  }
  .footer-nav-grid button:hover {
    background:#06b6d4;
    color:#001;
  }

  /* User Card - Avatar left, Info right */
  .user-card {
    flex:1.4;
    background:#0f1115;
    border:1px solid #2b3347;
    border-radius:12px;
    padding:15px;
    display:flex;
    align-items:center;
    gap:15px;
    min-width:260px;
    max-width:380px;
    box-shadow:0 4px 12px rgba(0,0,0,0.4);
  }
  .user-card img {
    width:85px;
    height:85px;
    border-radius:50%;
    border:3px solid #06b6d4;
  }
  .user-details {
    text-align:left;
    flex:1;
  }
  .user-details h3 {
    margin:5px 0;
    font-size:18px;
    color:#06b6d4;
  }
  .user-details p {
    margin:3px 0;
    font-size:15px;
    color:#9aa3b2;
  }

  .footer-copy {
    margin-top:20px;
    font-size:14px;
    color:#9aa3b2;
  }
  @media(max-width:768px){
    .footer-container { flex-direction:column; }
    .footer-nav-grid { width:100%; grid-template-columns:repeat(3,1fr); }
    .user-card { width:100%; max-width:100%; justify-content:center; }
    .user-details { text-align:center; }
  }
</style>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBIIOv-2Laqugv5_HAIRNJllp8YUfYndF8",
    authDomain: "diamond-recharge-f7f59.firebaseapp.com",
    projectId: "diamond-recharge-f7f59",
    storageBucket: "diamond-recharge-f7f59.appspot.com",
    messagingSenderId: "657717928489",
    appId: "1:657717928489:web:70431ebc9afb7002d4b238"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);
  const userBox = document.getElementById("userBox");

  onAuthStateChanged(auth, async (user)=>{
    if(user){
      const userRef = doc(db,"users",user.uid);
      const snap = await getDoc(userRef);
      const data = snap.exists() ? snap.data() : {};
      const bal = data.balance ?? 0;
      const role = data.role ?? "User";
      const number = data.number ?? "N/A";

      userBox.innerHTML = `
        <img src="${user.photoURL || 'https://i.ibb.co/3pPYd14/user.png'}" alt="avatar">
        <div class="user-details">
          <h3>${user.displayName || "No Name"} <span style="color:#9aa3b2;font-size:14px;">(${role})</span></h3>
          <p>ğŸ’ Balance: <span style="color:#22c55e;font-weight:bold">${bal}</span></p>
          <p>ğŸ“± ${number}</p>
          <p>ğŸ“§ ${user.email}</p>
        </div>
      `;
    } else {
      userBox.innerHTML = "<p>âŒ Not logged in</p>";
    }
  });
</script>